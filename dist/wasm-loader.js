!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WasmLoader=t():e.WasmLoader=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=1)}([function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(2),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(){n(this,e),this.helper=new s.default}return i(e,[{key:"load",value:function(e,t){return this.helper.canUseWebAssembly()?this._loadFromWasm(e,t):this._loadFromAsmJS(t)}},{key:"_loadFromWasm",value:function(e,t){var r=this;return e?e().then(function(e){return e().asm}).catch(function(){return r._loadFromAsmJS(t)}):Promise.reject(new Error("required callback for wasm"))}}],[{key:"_loadFromAsmJS",value:function(e){return e?e().then(function(e){var t=e();return t.then=null,t}):Promise.reject(new Error("required callback for asm.js"))}}]),e}();t.default=a},function(e,t,r){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=void 0;e.GLOBAL||(r(3),e.GLOBAL=e),o=r(4);var s=function(){function e(){n(this,e),this.ua=new o}return i(e,[{key:"canUseWebAssembly",value:function(){return void 0!==window.WebAssembly&&!this.isIgnoreBrowser()&&e.validateSafariWebAssemblyBug()}},{key:"isIgnoreBrowser",value:function(){return!!this.isAndroidDefaultBrowser()||!!(this.ua.Chrome&&this.browserMajorVersion()<=60)}},{key:"browserMajorVersion",value:function(){var e=this.ua.BROWSER_VERSION.split(".");return 3===e.length?parseInt(e[0],10):0}},{key:"isAndroidDefaultBrowser",value:function(){var e=this.ua;return!!e.Android&&(/Linux; U;/.test(e)&&!/Chrome/.test(e)||/Chrome/.test(e)&&/Version/.test(e)||/Chrome/.test(e)&&/SamsungBrowser/.test(e))}}],[{key:"validateSafariWebAssemblyBug",value:function(){var e=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),t=new WebAssembly.Module(e);return 0!==new WebAssembly.Instance(t,{}).exports.test(4)}}]),e}();t.default=s}).call(t,r(0))},function(e,t,r){(function(e){var t=(this||0).self||e;!function(){var e=!!t.global,r=!!(t.process||0).type,n=!!/native/.test(setTimeout);t.IN_BROWSER=!e&&"document"in t,t.IN_WORKER=!e&&"WorkerLocation"in t,t.IN_NODE=e&&!r&&!n,t.IN_NW=e&&!r&&n,t.IN_EL=e&&r}(),t.$type=function(e,r){return!t.Valid||t.Valid.type(e,r)},t.$keys=function(e,r){return!t.Valid||t.Valid.keys(e,r)},t.$some=function(e,r,n){return!t.Valid||t.Valid.some(e,r,n)},t.$args=function(e,r){return!t.Valid||t.Valid.args(e,r)},t.$valid=function(e,r,n){return!t.Valid||t.Valid(e,r,n)},t.$values=function(e,r){return!t.Valid||t.Valid.values(e,r)},t.WebModule={CODE:{},VERIFY:!1,VERBOSE:!1,PUBLISH:!1,exports:function(e,r){var n=this,i=n[e]?e+"_":e;return n[i]||(n[i]=r(t,n,n.VERIFY,n.VERBOSE),n.CODE[i]=r+"",n.PUBLISH&&!t[i]&&(t[i]=n[i])),n[i]}}}).call(t,r(0))},function(e,t,r){!function(t,r){"use strict";var n=GLOBAL.WebModule.exports(t,r);e.exports=n}("UserAgent",function(e){"use strict";function t(e,n){return t.DISABLE_CACHE?r(e,n||{}):(t.cache||(t.cache=r(e,n||{})),t.cache)}function r(t,r){r=r||{};var l=e.navigator||{},d=t||l.userAgent||"",f=m(d),h=i(d),P=o(d,h),E=s(d),p=a(d,E),O=u(E,parseFloat(P)),b=c(d,h,P,r,f),A=n(l),v=!!f||(/Android|iOS/.test(h)||/Windows Phone/.test(d)),W="iOS"===h,w="Android"===h,y=S(d,h,E,p,r),I=/^(iPhone 6s|iPhone 7)/.test(b)||parseFloat(P)>=10&&/^iPad Pro/.test(b),g=/native/.test(Object.keys+""),C=/native/.test(String.raw+"");return{OS:h,OS_VERSION:P,PC:!v,MOBILE:v,BROWSER:E,BASE_BROWSER:O,BROWSER_VERSION:p,USER_AGENT:d,LANGUAGE:A,WEB_VIEW:y,DEVICE:b,TOUCH_3D:I,CARRIER:f,FEATURE_PHONE:!!f,ES5:g,ES6:C,ES2015:C,iOS:W,Mac:"Mac"===h,macOS:"Mac"===h,Android:w,Windows:"Windows"===h,IE:"IE"===E,Edge:"Edge"===E,Firefox:"Firefox"===E,Chrome:"Chrome"===E,Safari:"Safari"===E,Silk:"Silk"===E,AOSP:"AOSP"===E,WebKit:"WebKit"===O,Chromium:"Chromium"===O,iPod:W&&/iPod/.test(d),iPad:W&&/iPad/.test(d),iPhone:W&&/iPhone/.test(d),Kindle:"Silk"===E,has:function(e){return void 0!==this[e]},get:function(e){return this[e]}}}function n(e){var t=e.language||"en";return e.languages&&Array.isArray(e.languages)&&(t=e.languages[0]||t),t.split("-")[0]}function i(e){switch(!0){case/Android/.test(e):return"Android";case/iPhone|iPad|iPod/.test(e):return"iOS";case/Windows/.test(e):return"Windows";case/Mac OS X/.test(e):return"Mac";case/CrOS/.test(e):return"Chrome OS";case/Firefox/.test(e):return"Firefox OS"}return""}function o(e,t){switch(t){case"Android":return f(e,"Android");case"iOS":return f(e,/OS /);case"Windows":return f(e,/Phone/.test(e)?/Windows Phone (?:OS )?/:/Windows NT/);case"Mac":return f(e,/Mac OS X /)}return"0.0.0"}function s(e){var t=/Android/.test(e);switch(!0){case/CriOS/.test(e):return"Chrome for iOS";case/Edge/.test(e):return"Edge";case t&&/Silk\//.test(e):return"Silk";case/Chrome/.test(e):return"Chrome";case/Firefox/.test(e):return"Firefox";case t:return"AOSP";case/MSIE|Trident/.test(e):return"IE";case/Safari\//.test(e):return"Safari";case/AppleWebKit/.test(e):return"WebKit"}return""}function a(e,t){switch(t){case"Chrome for iOS":return f(e,"CriOS/");case"Edge":return f(e,"Edge/");case"Chrome":return f(e,"Chrome/");case"Firefox":return f(e,"Firefox/");case"Silk":return f(e,"Silk/");case"AOSP":return f(e,"Version/");case"IE":return/IEMobile/.test(e)?f(e,"IEMobile/"):/MSIE/.test(e)?f(e,"MSIE "):f(e,"rv:");case"Safari":return f(e,"Version/");case"WebKit":return f(e,"WebKit/")}return"0.0.0"}function u(e,t){return"Silk"===e&&t>=4.4?"Chromium":O[e]||""}function c(t,r,n,i,o){var s=e.screen||{},a=s.width||0,u=s.height||0,c=i.DISPLAY_DPR||e.devicePixelRatio||1,f=i.DISPLAY_LONG||Math.max(a,u),h=i.DISPLAY_SHORT||Math.min(a,u),S=c>=2,P=Math.max(f,h);switch(r){case"Android":return l(t,S);case"iOS":return d(t,S,P,n)}return o?p(t,o):""}function l(e,t){if(/Firefox/.test(e))return"";try{var r=e.split("Build/")[0].split(";").slice(-1).join().trim().replace(/^SonyEricsson/,"").replace(/^Sony/,"").replace(/ 4G$/,"");return"Nexus 7"===r?t?"Nexus 7 2nd":"Nexus 7":r}catch(e){}return""}function d(t,r,n,i){var o=e.WebModule.WebGLDetector||{};"detect"in o&&o.detect();var s=o.WEBGL_VERSION||"",a=o.WEBGL_RENDERER||"",u=/543/.test(s),c=/554/.test(s),l=/A7 /.test(s),d=/A8X/.test(s),f=/A8 /.test(s),h=/A9X/.test(s),S=/A9 /.test(s),P=/Metal/.test(s),E=/Software/.test(a);return/iPhone/.test(t)?E?"iPhone Simulator":r?n<=480?u||i>=8?"iPhone 4s":"iPhone 4":n<=568?P?"iPhone 7":S?"iPhone SE":f?"iPhone 6":l?"iPhone 5s":u?"iPhone 5":"iPhone x":n<=667?P?"iPhone 7":S?"iPhone 6s":f?"iPhone 6":"iPhone x":n<=736?P?"iPhone 7 Plus":S?"iPhone 6s Plus":f?"iPhone 6 Plus":"iPhone x":"iPhone x":"iPhone 3GS":/iPad/.test(t)?E?"iPad Simulator":r?u?"iPad 3":c?"iPad 4":l?"iPad mini 2":d?"iPad Air 2":f?"iPad mini 4":h?n<=1024?"iPad Pro 9.7":"iPad Pro":S?"iPad 5":"iPad x":"iPad 2":/iPod/.test(t)?E?"iPod Simulator":n<=480?r?"iPod touch 4":"iPod touch 3":f?"iPod touch 6":"iPod touch 5":"iPhone x"}function f(e,t){try{return h(e.split(t)[1].trim().split(/[^\w\.]/)[0])}catch(e){}return"0.0.0"}function h(e){var t=e.split(/[\._]/);return(parseInt(t[0],10)||0)+"."+(parseInt(t[1],10)||0)+"."+(parseInt(t[2],10)||0)}function S(e,t,r,n,i){switch(t+r){case"iOSSafari":return!1;case"iOSWebKit":return P(i);case"AndroidAOSP":return!1;case"AndroidChrome":return parseFloat(n)>=42?/; wv/.test(e):!!/\d{2}\.0\.0/.test(n)||E(i)}return!1}function P(t){var r=e.document||{};return"WEB_VIEW"in t?t.WEB_VIEW:!("fullscreenEnabled"in r||"webkitFullscreenEnabled"in r)}function E(t){return"WEB_VIEW"in t?t.WEB_VIEW:!("requestFileSystem"in e||"webkitRequestFileSystem"in e)}function m(e){switch(!0){case/DoCoMo/.test(e):return"DOCOMO";case/KDDI/.test(e):return"KDDI";case/SoftBank|Vodafone/.test(e):return"SOFTBANK"}return""}function p(e,t){switch(t){case"DOCOMO":return e.split("DoCoMo/2.0 ")[1].split("(")[0];case"KDDI":return e.split("KDDI-")[1].split(" ")[0];case"SOFTBANK":return/^Vodafone/.test(e)?e.split("/")[2].slice(1):e.split("/")[2]}return""}var O={Chrome:"Chromium",Firefox:"Firefox",IE:"IE",Edge:"Edge",AOSP:"WebKit",Safari:"WebKit",WebKit:"WebKit","Chrome for iOS":"WebKit",Silk:"WebKit"};return t.DISABLE_CACHE=!1,t.cache=null,t.parse=r,t.repository="https://github.com/uupaa/UserAgent.js",t})}])});